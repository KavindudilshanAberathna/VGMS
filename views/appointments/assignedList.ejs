<<<<<<< HEAD
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Assigned Appointments</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-white text-[#800000] font-sans">

  <div class="max-w-5xl mx-auto px-4 py-10">
    <h2 class="text-4xl font-bold text-center mb-8">Assigned Appointments</h2>

    <% appointments.forEach(appointment => { %>
      <div class="bg-white border border-[#800000]/30 rounded-xl p-6 mb-6 shadow-lg">
        <p><strong>Customer:</strong> <%= appointment.customer?.fullName || 'N/A' %> 
          (<%= appointment.customer?.email || 'N/A' %>)</p>
        <p><strong>Vehicle:</strong> <%= appointment.vehicleNumber %></p>
        <p><strong>Service Type:</strong> <%= appointment.serviceType %></p>
        <p><strong>Date:</strong> <%= appointment.date.toDateString() %></p>
        <p><strong>Time:</strong> <%= appointment.time %></p>
        <p><strong>Status:</strong> 
          <span class="inline-block px-2 py-1 text-sm font-medium rounded-full 
            <%= appointment.status === 'Completed' 
              ? 'bg-green-100 text-green-800' 
              : appointment.status === 'Approved' 
                ? 'bg-blue-100 text-blue-800' 
                : 'bg-yellow-100 text-yellow-800' %>">
            <%= appointment.status %>
          </span>
        </p>
        <p><strong>Mechanic:</strong> <%= appointment.mechanic?.fullName || 'Not assigned' %></p>

        <!-- Edit Form -->
        <form action="/appointments/admin/<%= appointment._id %>/edit" method="POST" class="mt-4 flex flex-col sm:flex-row gap-3 items-start sm:items-center">
          <div class="flex flex-col sm:flex-row gap-2 items-center">
            <label for="status-<%= appointment._id %>" class="font-semibold">Update Status:</label>
            <select id="status-<%= appointment._id %>" name="status" required
              class="border border-[#800000]/50 text-[#800000] px-3 py-2 rounded-md focus:ring-2 focus:ring-[#800000]">
              <option value="Pending" <%= appointment.status === 'Pending' ? 'selected' : '' %>>Pending</option>
              <option value="Approved" <%= appointment.status === 'Approved' ? 'selected' : '' %>>Approved</option>
              <option value="Completed" <%= appointment.status === 'Completed' ? 'selected' : '' %>>Completed</option>
            </select>
          </div>
          <button type="submit"
            class="bg-[#800000] text-white px-4 py-2 rounded-md hover:bg-[#660000] transition-colors">
            Update
          </button>
        </form>

        <!-- Delete Form -->
        <form action="/appointments/admin/<%= appointment._id %>/delete" method="POST" class="mt-4">
          <button type="submit"
            onclick="return confirm('Are you sure you want to delete this appointment?');"
            class="bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors">
            Delete
          </button>
        </form>
      </div>
    <% }) %>
  </div>

</body>
</html>
=======
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Assigned Appointments</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-white text-[#800000] font-sans">

  <div class="max-w-5xl mx-auto px-4 py-10">
    <h2 class="text-4xl font-bold text-center mb-8">Assigned Appointments</h2>

    <% appointments.forEach(appointment => { %>
      <div class="bg-white border border-[#800000]/30 rounded-xl p-6 mb-6 shadow-lg">
        <p><strong>Customer:</strong> <%= appointment.customer?.fullName || 'N/A' %> 
          (<%= appointment.customer?.email || 'N/A' %>)</p>
        <p><strong>Vehicle:</strong> <%= appointment.vehicleNumber %></p>
        <p><strong>Service Type:</strong> <%= appointment.serviceType %></p>
        <p><strong>Date:</strong> <%= appointment.date.toDateString() %></p>
        <p><strong>Time:</strong> <%= appointment.time %></p>
        <p><strong>Status:</strong> 
          <span class="inline-block px-2 py-1 text-sm font-medium rounded-full 
            <%= appointment.status === 'Completed' 
              ? 'bg-green-100 text-green-800' 
              : appointment.status === 'Approved' 
                ? 'bg-blue-100 text-blue-800' 
                : 'bg-yellow-100 text-yellow-800' %>">
            <%= appointment.status %>
          </span>
        </p>
        <p><strong>Mechanic:</strong> <%= appointment.mechanic?.fullName || 'Not assigned' %></p>

        <!-- Edit Form -->
        <form action="/appointments/admin/<%= appointment._id %>/edit" method="POST" class="mt-4 flex flex-col sm:flex-row gap-3 items-start sm:items-center">
          <div class="flex flex-col sm:flex-row gap-2 items-center">
            <label for="status-<%= appointment._id %>" class="font-semibold">Update Status:</label>
            <select id="status-<%= appointment._id %>" name="status" required
              class="border border-[#800000]/50 text-[#800000] px-3 py-2 rounded-md focus:ring-2 focus:ring-[#800000]">
              <option value="Pending" <%= appointment.status === 'Pending' ? 'selected' : '' %>>Pending</option>
              <option value="Approved" <%= appointment.status === 'Approved' ? 'selected' : '' %>>Approved</option>
              <option value="Completed" <%= appointment.status === 'Completed' ? 'selected' : '' %>>Completed</option>
            </select>
          </div>
          <button type="submit"
            class="bg-[#800000] text-white px-4 py-2 rounded-md hover:bg-[#660000] transition-colors">
            Update
          </button>
        </form>

        <!-- Delete Form -->
        <form action="/appointments/admin/<%= appointment._id %>/delete" method="POST" class="mt-4">
          <button type="submit"
            onclick="return confirm('Are you sure you want to delete this appointment?');"
            class="bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors">
            Delete
          </button>
        </form>
      </div>
    <% }) %>
  </div>

</body>
</html>
>>>>>>> 2aa45ee (Initial commit)
