<<<<<<< HEAD
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Appointment List</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Tailwind CSS CDN (for development only; use via npm in production) -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-white text-[#800000] font-sans">

  <div class="max-w-5xl mx-auto py-10 px-6">
    <h2 class="text-4xl font-bold mb-4 text-center">Admin Appointment List</h2>
    <p class="text-lg text-center mb-10">
      Total Appointments: <%= appointments.length %>
    </p>

    <% appointments.forEach(appointment => { %>
      <div class="bg-white border border-[#800000]/30 rounded-xl p-6 mb-6 shadow-lg">
        <p><strong>Customer:</strong> <%= appointment.customer ? appointment.customer.fullName : 'N/A' %> 
          (<%= appointment.customer?.email || 'No email' %>)</p>
        <p><strong>Vehicle Number:</strong> <%= appointment.vehicleNumber %></p>
        <p><strong>Service Type:</strong> <%= appointment.serviceType %></p>
        <p><strong>Date:</strong> <%= appointment.date.toDateString() %></p>
        <p><strong>Time:</strong> <%= appointment.time %></p>
        <p><strong>Status:</strong> <%= appointment.status %></p>
        <p><strong>Assigned Mechanic:</strong> 
          <%= appointment.mechanic ? appointment.mechanic.fullName : 'Not assigned' %>
        </p>

        <div class="mt-4 flex flex-col sm:flex-row items-start sm:items-center gap-4">
          <form action="/appointments/admin/<%= appointment._id %>/assign" method="POST" class="flex items-center gap-2">
            <select name="mechanicId" required
              class="bg-white border border-[#800000]/50 text-[#800000] rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#800000]">
              <% mechanics.forEach(mechanic => { %>
                <option value="<%= mechanic._id %>" 
                  <%= appointment.mechanic && mechanic._id.toString() === appointment.mechanic._id.toString() ? 'selected' : '' %>>
                  <%= mechanic.fullName %>
                </option>
              <% }) %>
            </select>
            <button type="submit"
              class="bg-[#800000] text-white px-4 py-2 rounded-md hover:bg-[#660000] transition-colors">
              Assign
            </button>
          </form>

          <form action="/appointments/admin/<%= appointment._id %>/delete" method="POST"
            onsubmit="return confirm('Are you sure you want to delete this appointment?')">
            <button type="submit"
              class="bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors">
              Delete
            </button>
          </form>
        </div>
      </div>
    <% }) %>

  </div>

</body>
</html>
=======
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Appointment List</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Tailwind CSS CDN (for development only; use via npm in production) -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-white text-[#800000] font-sans">

  <div class="max-w-5xl mx-auto py-10 px-6">
    <h2 class="text-4xl font-bold mb-4 text-center">Admin Appointment List</h2>
    <p class="text-lg text-center mb-10">
      Total Appointments: <%= appointments.length %>
    </p>

    <% appointments.forEach(appointment => { %>
      <div class="bg-white border border-[#800000]/30 rounded-xl p-6 mb-6 shadow-lg">
        <p><strong>Customer:</strong> <%= appointment.customer ? appointment.customer.fullName : 'N/A' %> 
          (<%= appointment.customer?.email || 'No email' %>)</p>
        <p><strong>Vehicle Number:</strong> <%= appointment.vehicleNumber %></p>
        <p><strong>Service Type:</strong> <%= appointment.serviceType %></p>
        <p><strong>Date:</strong> <%= appointment.date.toDateString() %></p>
        <p><strong>Time:</strong> <%= appointment.time %></p>
        <p><strong>Status:</strong> <%= appointment.status %></p>
        <p><strong>Assigned Mechanic:</strong> 
          <%= appointment.mechanic ? appointment.mechanic.fullName : 'Not assigned' %>
        </p>

        <div class="mt-4 flex flex-col sm:flex-row items-start sm:items-center gap-4">
          <form action="/appointments/admin/<%= appointment._id %>/assign" method="POST" class="flex items-center gap-2">
            <select name="mechanicId" required
              class="bg-white border border-[#800000]/50 text-[#800000] rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#800000]">
              <% mechanics.forEach(mechanic => { %>
                <option value="<%= mechanic._id %>" 
                  <%= appointment.mechanic && mechanic._id.toString() === appointment.mechanic._id.toString() ? 'selected' : '' %>>
                  <%= mechanic.fullName %>
                </option>
              <% }) %>
            </select>
            <button type="submit"
              class="bg-[#800000] text-white px-4 py-2 rounded-md hover:bg-[#660000] transition-colors">
              Assign
            </button>
          </form>

          <form action="/appointments/admin/<%= appointment._id %>/delete" method="POST"
            onsubmit="return confirm('Are you sure you want to delete this appointment?')">
            <button type="submit"
              class="bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors">
              Delete
            </button>
          </form>
        </div>
      </div>
    <% }) %>

  </div>

</body>
</html>
>>>>>>> 2aa45ee (Initial commit)
